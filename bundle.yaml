display-name: SLURM Core
description: |
  The core SLURM bundle.
applications:
  percona-cluster:
    charm: "cs:percona-cluster-272"
    constraints: "cores=2 mem=4G"
    num_units: 1
    to:
      - "0"
    annotations:
      "gui-x": "450"
      "gui-y": "-170"
  slurm-dbd:
    charm: "cs:~omnivector/slurm-dbd-1"
    constraints: "cores=2 mem=4G"
    num_units: 1
    to:
      - "1"
    annotations:
      "gui-x": "300"
      "gui-y": "-170"
  slurm-controller: 
    charm: "cs:~omnivector/slurm-controller-4"
    constraints: "cores=2 mem=4G"
    num_units: 1
    to:
      - "2"
    annotations:
      "gui-x": "35"
      "gui-y": "-140"
  slurm-node: 
    charm: "cs:~omnivector/slurm-node-3"
    constraints: "cores=2 mem=4G"
    num_units: 1
    to:
      - "3"
    annotations:
      "gui-x": "80"
      "gui-y": "140"
relations:
  - - "percona-cluster:shared-db"
    - "slurm-dbd:db-mysql"
  - - "slurm-controller:slurm-cluster"
    - "slurm-node:slurm-cluster"
  - - "slurm-dbd:munge-provider"
    - "slurm-controller:munge-consumer"
  - - "slurm-dbd:slurm-dbd-provider"
    - "slurm-controller:slurm-dbd-consumer"
machines:
  "0":
    series: bionic
    constraints: "cores=2 mem=4G"
  "1":
    series: bionic
    constraints: "cores=2 mem=4G"
  "2":
    series: bionic
    constraints: "cores=2 mem=4G"
  "3":
    series: bionic
    constraints: "cores=2 mem=4G"
